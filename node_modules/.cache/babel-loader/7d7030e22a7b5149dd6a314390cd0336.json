{"ast":null,"code":"import PouchDB from 'pouchdb-browser';\n\nclass Database {\n  constructor() {\n    this.remoteDBURL = 'http://localhost:5984/';\n    this.dbName = 'chess-moves-parser';\n  }\n\n  init() {\n    const localDB = PouchDB(this.dbName);\n    const remoteDB = PouchDB(\"\".concat(this.remoteDBURL).concat(this.dbName)); // db.info().then(function (info) {\n    //     console.log(info);\n    //   });\n\n    localDB.sync(remoteDB, {\n      live: true,\n      retry: true\n    }).on('change', function (change) {\n      this.onSyncChange(change);\n    }).on('paused', function (info) {\n      this.onSyncPause(info);\n    }).on('active', function (info) {\n      this.onSyncActive(info);\n    }).on('complete', function () {\n      this.onSyncComplete();\n    }).on('error', function (err) {\n      this.onSyncError(err);\n    });\n  }\n\n  onSyncComplete(info) {\n    console.log(\"Local and remote DB's sync process has stopped. \\n        It was either either cancelled manually or finished successfully.\");\n  }\n\n  onSyncChange(change) {\n    console.log('There was a change in DB\\'s data. Something was inserted, removed or updated.');\n  }\n\n  onSyncPause(info) {\n    console.log('The sync between local and remote DB\\'s was paused, possibly due to a lost of connection.');\n  }\n\n  onSyncActive(info) {\n    console.log('The sync between local and remote DB\\'s was has resumed and is now active.');\n  }\n\n  onSyncError(err) {\n    console.log(\"Error ocurred during the sync of local DB to remote one. \".concat(err));\n  }\n\n}\n\nexport default Database;","map":{"version":3,"sources":["/Users/iliyanvidev/Code/chess-move-parser/src/Database.js"],"names":["PouchDB","Database","constructor","remoteDBURL","dbName","init","localDB","remoteDB","sync","live","retry","on","change","onSyncChange","info","onSyncPause","onSyncActive","onSyncComplete","err","onSyncError","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,iBAApB;;AAEA,MAAMC,QAAN,CAAe;AACXC,EAAAA,WAAW,GAAG;AACV,SAAKC,WAAL,GAAmB,wBAAnB;AACA,SAAKC,MAAL,GAAc,oBAAd;AACH;;AAEDC,EAAAA,IAAI,GAAG;AACH,UAAMC,OAAO,GAAGN,OAAO,CAAC,KAAKI,MAAN,CAAvB;AACA,UAAMG,QAAQ,GAAGP,OAAO,WAAI,KAAKG,WAAT,SAAuB,KAAKC,MAA5B,EAAxB,CAFG,CAGH;AACA;AACA;;AACAE,IAAAA,OAAO,CAACE,IAAR,CAAaD,QAAb,EACA;AACIE,MAAAA,IAAI,EAAE,IADV;AAEIC,MAAAA,KAAK,EAAE;AAFX,KADA,EAIGC,EAJH,CAIM,QAJN,EAIgB,UAASC,MAAT,EAAiB;AAC7B,WAAKC,YAAL,CAAkBD,MAAlB;AACH,KAND,EAMGD,EANH,CAMM,QANN,EAMgB,UAAUG,IAAV,EAAgB;AAC5B,WAAKC,WAAL,CAAiBD,IAAjB;AACH,KARD,EAQGH,EARH,CAQM,QARN,EAQgB,UAAUG,IAAV,EAAgB;AAC5B,WAAKE,YAAL,CAAkBF,IAAlB;AACH,KAVD,EAUGH,EAVH,CAUM,UAVN,EAUkB,YAAY;AAC1B,WAAKM,cAAL;AACH,KAZD,EAYGN,EAZH,CAYM,OAZN,EAYe,UAAUO,GAAV,EAAe;AAC1B,WAAKC,WAAL,CAAiBD,GAAjB;AACH,KAdD;AAeH;;AAEDD,EAAAA,cAAc,CAACH,IAAD,EAAO;AACjBM,IAAAA,OAAO,CAACC,GAAR;AAEH;;AAEDR,EAAAA,YAAY,CAACD,MAAD,EAAS;AACjBQ,IAAAA,OAAO,CAACC,GAAR,CAAY,+EAAZ;AACH;;AAEDN,EAAAA,WAAW,CAACD,IAAD,EAAO;AACdM,IAAAA,OAAO,CAACC,GAAR,CAAY,2FAAZ;AACH;;AAEDL,EAAAA,YAAY,CAACF,IAAD,EAAO;AACfM,IAAAA,OAAO,CAACC,GAAR,CAAY,4EAAZ;AACH;;AAEDF,EAAAA,WAAW,CAACD,GAAD,EAAM;AACbE,IAAAA,OAAO,CAACC,GAAR,oEAAwEH,GAAxE;AACH;;AAhDU;;AAmDf,eAAejB,QAAf","sourcesContent":["import PouchDB from 'pouchdb-browser';\n\nclass Database {\n    constructor() {\n        this.remoteDBURL = 'http://localhost:5984/';\n        this.dbName = 'chess-moves-parser';\n    }\n    \n    init() {\n        const localDB = PouchDB(this.dbName);\n        const remoteDB = PouchDB(`${this.remoteDBURL}${this.dbName}`);\n        // db.info().then(function (info) {\n        //     console.log(info);\n        //   });\n        localDB.sync(remoteDB, \n        {\n            live: true,\n            retry: true\n        }).on('change', function(change) {\n            this.onSyncChange(change);\n        }).on('paused', function (info) {\n            this.onSyncPause(info);\n        }).on('active', function (info) {\n            this.onSyncActive(info);\n        }).on('complete', function () {\n            this.onSyncComplete();\n        }).on('error', function (err) {\n            this.onSyncError(err);\n        });\n    }\n\n    onSyncComplete(info) {\n        console.log(`Local and remote DB\\'s sync process has stopped. \n        It was either either cancelled manually or finished successfully.`);\n    }\n\n    onSyncChange(change) {\n        console.log('There was a change in DB\\'s data. Something was inserted, removed or updated.');\n    }\n\n    onSyncPause(info) {\n        console.log('The sync between local and remote DB\\'s was paused, possibly due to a lost of connection.');\n    }\n\n    onSyncActive(info) {\n        console.log('The sync between local and remote DB\\'s was has resumed and is now active.');\n    }\n\n    onSyncError(err) {\n        console.log(`Error ocurred during the sync of local DB to remote one. ${err}`);\n    }\n}\n\nexport default Database;"]},"metadata":{},"sourceType":"module"}