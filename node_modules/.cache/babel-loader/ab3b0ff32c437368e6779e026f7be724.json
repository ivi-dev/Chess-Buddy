{"ast":null,"code":"import PouchDB from 'pouchdb-browser';\n\nclass Database {\n  constructor() {\n    this.remoteDBURL = 'http://localhost:5984/';\n    this.dbName = 'chess-moves-parser';\n  }\n\n  init() {\n    const localDB = PouchDB(this.dbName);\n    const remoteDB = PouchDB(\"\".concat(this.remoteDBURL).concat(this.dbName)); // db.info().then(function (info) {\n    //     console.log(info);\n    //   });\n\n    localDB.sync(remoteDB, {\n      live: true\n    }).on('change', function (change) {\n      this.onSyncChange(change);\n    }).on('paused', function (info) {\n      this.onSyncPause(pause);\n    }).on('complete', function () {\n      this.onSyncSuccess();\n    }).on('error', function (err) {\n      this.onSyncError(err);\n    });\n  }\n\n  onSyncSuccess() {\n    console.log('Local and remote DB\\'s synced succssfully.');\n  }\n\n  onSyncChange(change) {\n    console.log('There was a change in DB\\'s data. Something was inserted, removed or updated.');\n  }\n\n  onSyncPause(pause) {\n    console.log('The sync between local and remote DB\\'s was paused, possibly due to a lost of connection.');\n  }\n\n  onSyncError(err) {\n    console.log(\"Error ocurred during the sync of local DB to remote one. \".concat(err));\n  }\n\n}\n\nexport default Database;","map":{"version":3,"sources":["/Users/iliyanvidev/Code/chess-move-parser/src/Database.js"],"names":["PouchDB","Database","constructor","remoteDBURL","dbName","init","localDB","remoteDB","sync","live","on","change","onSyncChange","info","onSyncPause","pause","onSyncSuccess","err","onSyncError","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,iBAApB;;AAEA,MAAMC,QAAN,CAAe;AACXC,EAAAA,WAAW,GAAG;AACV,SAAKC,WAAL,GAAmB,wBAAnB;AACA,SAAKC,MAAL,GAAc,oBAAd;AACH;;AAEDC,EAAAA,IAAI,GAAG;AACH,UAAMC,OAAO,GAAGN,OAAO,CAAC,KAAKI,MAAN,CAAvB;AACA,UAAMG,QAAQ,GAAGP,OAAO,WAAI,KAAKG,WAAT,SAAuB,KAAKC,MAA5B,EAAxB,CAFG,CAGH;AACA;AACA;;AACAE,IAAAA,OAAO,CAACE,IAAR,CAAaD,QAAb,EAAuB;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAvB,EAAqCC,EAArC,CAAwC,QAAxC,EAAkD,UAASC,MAAT,EAAiB;AAC/D,WAAKC,YAAL,CAAkBD,MAAlB;AACH,KAFD,EAEGD,EAFH,CAEM,QAFN,EAEgB,UAAUG,IAAV,EAAgB;AAC5B,WAAKC,WAAL,CAAiBC,KAAjB;AACH,KAJD,EAIGL,EAJH,CAIM,UAJN,EAIkB,YAAY;AAC1B,WAAKM,aAAL;AACH,KAND,EAMGN,EANH,CAMM,OANN,EAMe,UAAUO,GAAV,EAAe;AAC1B,WAAKC,WAAL,CAAiBD,GAAjB;AACH,KARD;AASH;;AAEDD,EAAAA,aAAa,GAAG;AACZG,IAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AACH;;AAEDR,EAAAA,YAAY,CAACD,MAAD,EAAS;AACjBQ,IAAAA,OAAO,CAACC,GAAR,CAAY,+EAAZ;AACH;;AAEDN,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACfI,IAAAA,OAAO,CAACC,GAAR,CAAY,2FAAZ;AACH;;AAEDF,EAAAA,WAAW,CAACD,GAAD,EAAM;AACbE,IAAAA,OAAO,CAACC,GAAR,oEAAwEH,GAAxE;AACH;;AArCU;;AAwCf,eAAehB,QAAf","sourcesContent":["import PouchDB from 'pouchdb-browser';\n\nclass Database {\n    constructor() {\n        this.remoteDBURL = 'http://localhost:5984/';\n        this.dbName = 'chess-moves-parser';\n    }\n    \n    init() {\n        const localDB = PouchDB(this.dbName);\n        const remoteDB = PouchDB(`${this.remoteDBURL}${this.dbName}`);\n        // db.info().then(function (info) {\n        //     console.log(info);\n        //   });\n        localDB.sync(remoteDB, {live: true}).on('change', function(change) {\n            this.onSyncChange(change);\n        }).on('paused', function (info) {\n            this.onSyncPause(pause);\n        }).on('complete', function () {\n            this.onSyncSuccess();\n        }).on('error', function (err) {\n            this.onSyncError(err);\n        });\n    }\n\n    onSyncSuccess() {\n        console.log('Local and remote DB\\'s synced succssfully.');\n    }\n\n    onSyncChange(change) {\n        console.log('There was a change in DB\\'s data. Something was inserted, removed or updated.');\n    }\n\n    onSyncPause(pause) {\n        console.log('The sync between local and remote DB\\'s was paused, possibly due to a lost of connection.');\n    }\n\n    onSyncError(err) {\n        console.log(`Error ocurred during the sync of local DB to remote one. ${err}`);\n    }\n}\n\nexport default Database;"]},"metadata":{},"sourceType":"module"}