{"map":"{\"version\":3,\"sources\":[\"static/js/main.b58de2ea.chunk.js\"],\"names\":[\"this\",\"push\",\"27\",\"module\",\"exports\",\"__webpack_require__\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"46\",\"47\",\"48\",\"51\",\"__webpack_exports__\",\"r\",\"react\",\"react_default\",\"n\",\"react_dom\",\"react_dom_default\",\"classCallCheck\",\"createClass\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"assertThisInitialized\",\"inherits\",\"src_Square\",\"props\",\"a\",\"createElement\",\"className\",\"concat\",\"square\",\"color\",\"piece\",\"src\",\"alt\",\"src_Row\",\"squares\",\"row\",\"map\",\"id\",\"key\",\"src_Board_0\",\"_React$Component\",\"Board\",\"_this\",\"Object\",\"call\",\"setBoard\",\"value\",\"hCoordinate\",\"situation\",\"index\",\"board\",\"vCoordinates\",\"length\",\"vCoordinate\",\"_index\",\"hCoordinates\",\"coordinate\",\"coordinates\",\"initialSet\",\"initialSetType\",\"updateSituation\",\"files\",\"forEach\",\"split\",\"ranks\",\"i\",\"getFiles\",\"file\",\"getRanks\",\"rank\",\"Component\",\"defineProperty\",\"src_NotationsInput\",\"onSubmit\",\"parseNotationsList\",\"placeholder\",\"notations\",\"onChange\",\"updateNotations\",\"autoCorrect\",\"spellCheck\",\"type\",\"src_Buttons\",\"onClick\",\"toggleSaveSessionPanel\",\"disabled\",\"moves\",\"toggleSessionsPanel\",\"src_SessionNameInput\",\"visible\",\"saveSession\",\"updateSessionName\",\"sessionName\",\"updateSessionNotes\",\"sessionNotes\",\"dbError\",\"index_es\",\"free_solid_svg_icons_index_es\",\"src_Session\",\"icon\",\"updateMoves\",\"session\",\"loadSessionFromArchive\",\"movesHistory\",\"deleteSession\",\"title\",\"src_SessionsPanel_0\",\"SessionsPanel\",\"state\",\"_this2\",\"sessions\",\"confirm\",\"src_Move\",\"selected\",\"faded\",\"selectMove\",\"side\",\"notation\",\"react_keyboard_event_handler\",\"react_keyboard_event_handler_default\",\"src_MovesHistory_0\",\"MovesHistory\",\"selectedMove\",\"bind\",\"setState\",\"fadeOutMoves\",\"updateSituationByMoveId\",\"resetMovesFade\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"undefined\",\"_step\",\"_iterator\",\"Symbol\",\"iterator\",\"next\",\"done\",\"move\",\"err\",\"return\",\"_this3\",\"handleKeys\",\"onKeyEvent\",\"cycleMoves\",\"lib_index_es\",\"src_Database\",\"Database\",\"dbName\",\"arguments\",\"db\",\"auto_compaction\",\"onError\",\"changes\",\"live\",\"since\",\"on\",\"change\",\"doc\",\"successCallback\",\"errorCallback\",\"put\",\"then\",\"response\",\"catch\",\"options\",\"allDocs\",\"self\",\"get\",\"remove\",\"res\",\"ownKeys\",\"object\",\"enumerableOnly\",\"keys\",\"getOwnPropertySymbols\",\"symbols\",\"filter\",\"sym\",\"getOwnPropertyDescriptor\",\"enumerable\",\"apply\",\"_objectSpread\",\"target\",\"source\",\"getOwnPropertyDescriptors\",\"defineProperties\",\"src_Panel_0\",\"Panel\",\"notationParams\",\"notationMinLength\",\"notationMaxLength\",\"notaitionsError\",\"panels\",\"sessionsPanel\",\"saveSessionPanel\",\"testRun\",\"configure\",\"console\",\"log\",\"updateSessionsList\",\"event\",\"minLength\",\"maxLength\",\"match\",\"collection\",\"capitalizedSplit\",\"letter\",\"toUpperCase\",\"toLowerCase\",\"join\",\"from\",\"to\",\"preventDefault\",\"trim\",\"allNotationsValid\",\"_notation\",\"validateNotation\",\"replace\",\"_iteratorNormalCompletion2\",\"_didIteratorError2\",\"_iteratorError2\",\"_step2\",\"_iterator2\",\"prettyNotation\",\"capitalize\",\"generateId\",\"moveData\",\"disectNotation\",\"unshift\",\"recordMoves\",\"notationsList\",\"upwardsFromMove\",\"insert\",\"getLatestSessionId\",\"_id\",\"notes\",\"moves_count\",\"moves_history\",\"date_saved\",\"Date\",\"message\",\"status\",\"_this4\",\"recreateSessions\",\"dbResult\",\"rows\",\"getAll\",\"include_docs\",\"_this5\",\"delete\",\"src_App_0\",\"App\",\"turnMap\",\"Whites\",\"Blacks\",\"piecesMap\",\"R\",\"N\",\"B\",\"K\",\"Q\",\"P\",\"turn\",\"whitesOnTop\",\"A1\",\"B1\",\"C1\",\"D1\",\"E1\",\"F1\",\"G1\",\"H1\",\"A2\",\"B2\",\"C2\",\"D2\",\"E2\",\"F2\",\"G2\",\"H2\",\"A7\",\"B7\",\"C7\",\"D7\",\"E7\",\"F7\",\"G7\",\"H7\",\"A8\",\"B8\",\"C8\",\"D8\",\"E8\",\"F8\",\"G8\",\"H8\",\"blacksOnTop\",\"findRankNumber\",\"findFileNumber\",\"bySquareCoordinates\",\"j\",\"situationCopy\",\"_iteratorNormalCompletion3\",\"_didIteratorError3\",\"_iteratorError3\",\"_step3\",\"_iterator3\",\"rowCopy\",\"_iteratorNormalCompletion4\",\"_didIteratorError4\",\"_iteratorError4\",\"_step4\",\"_iterator4\",\"squareCopy\",\"history\",\"historyCopy\",\"_iteratorNormalCompletion5\",\"_didIteratorError5\",\"_iteratorError5\",\"_step5\",\"_iterator5\",\"entry\",\"entryCopy\",\"reversedMoves\",\"slice\",\"reverse\",\"recordMove\",\"copySituation\",\"findSquare\",\"movedPiece\",\"movesHistoryCopy\",\"copyMovesHistory\",\"moveId\",\"_iteratorNormalCompletion6\",\"_didIteratorError6\",\"_iteratorError6\",\"_step6\",\"_iterator6\",\"toString\",\"findSituation\",\"isLocalhost\",\"Boolean\",\"window\",\"location\",\"hostname\",\"registerValidSW\",\"swUrl\",\"config\",\"navigator\",\"serviceWorker\",\"register\",\"registration\",\"onupdatefound\",\"installingWorker\",\"installing\",\"onstatechange\",\"controller\",\"onUpdate\",\"onSuccess\",\"error\",\"render\",\"document\",\"getElementById\",\"URL\",\"href\",\"origin\",\"addEventListener\",\"fetch\",\"contentType\",\"headers\",\"indexOf\",\"ready\",\"unregister\",\"reload\",\"checkValidServiceWorker\"],\"mappings\":\"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\"}","code":"(this[\"webpackJsonpchess-move-parser\"]=this[\"webpackJsonpchess-move-parser\"]||[]).push([[0],{27:function(e,t,n){e.exports=n(51)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},51:function(e,t,n){\"use strict\";n.r(t);var s=n(0),i=n.n(s),a=n(23),o=n.n(a),r=(n(32),n(4)),c=n(5),l=n(9),u=n(8),d=n(2),v=n(10);n(33);var h=function(e){return i.a.createElement(\"div\",{className:\"Square \".concat(1===e.square.color?\"white\":\"black\")},e.square.piece&&i.a.createElement(\"img\",{src:\"/images/pieces/\".concat(e.square.piece,\".png\"),alt:e.square.piece}))};n(34);var p=function(e){var t=e.row.map((function(e,t){return i.a.createElement(h,{key:t,square:e})}));return i.a.createElement(\"div\",{className:\"Row\"},t)},f=(n(35),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).setBoard(),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:\"setBoard\",value:function(){for(var e=-1,t=1,n=[],s=0;s<this.props.board.vCoordinates.length;s++){var i=[],a=-1;e++;for(var o=0;o<this.props.board.hCoordinates.length;o++){a++;var r=\"\".concat(this.props.board.vCoordinates[a]).concat(this.props.board.hCoordinates[e]);i.push({coordinates:r,color:t,piece:this.props.initialSet[this.props.initialSetType][r]}),o!==this.props.board.hCoordinates.length-1&&(t=1===t?0:1)}n.push(i)}this.props.updateSituation(n)}},{key:\"getFiles\",value:function(){var e=[];this.props.situation[0]&&this.props.situation[0].forEach((function(t){return e.push(t.coordinates.split(\"\")[0])}));return e}},{key:\"getRanks\",value:function(){for(var e=[],t=1;t<this.props.situation.length+1;t++)e.push(t);return e}},{key:\"render\",value:function(){return i.a.createElement(\"div\",{id:\"Board\"},i.a.createElement(\"div\",{id:\"Content\"},this.props.situation.map((function(e,t){return i.a.createElement(p,{key:t,row:e})}))),i.a.createElement(\"div\",{id:\"FileStrip\",className:\"strip\"},this.getFiles().map((function(e,t){return i.a.createElement(\"div\",{key:t,className:\"File\"},e)}))),i.a.createElement(\"div\",{id:\"RankStrip\",className:\"strip\"},this.getRanks().map((function(e,t){return i.a.createElement(\"div\",{key:t,className:\"Rank\"},e)}))))}}]),t}(i.a.Component)),m=(n(36),n(24));n(37);var b=function(e){return i.a.createElement(\"form\",{id:\"Input\",onSubmit:e.parseNotationsList},i.a.createElement(\"textarea\",{placeholder:\"Place notations here...\",value:e.notations,onChange:e.updateNotations,autoCorrect:\"false\",spellCheck:\"false\"}),i.a.createElement(\"input\",{type:\"submit\",value:\"Parse\"}))};n(38);var S=function(e){return i.a.createElement(\"section\",{id:\"Buttons\"},i.a.createElement(\"button\",{onClick:e.toggleSaveSessionPanel,disabled:0===e.moves.length},\"Save Session\"),i.a.createElement(\"button\",{onClick:e.toggleSessionsPanel},\"View Sessions\"))};n(39);var y=function(e){return i.a.createElement(\"section\",{id:\"SessionNameInput\",className:e.visible?\"visible\":null},i.a.createElement(\"form\",{onSubmit:e.saveSession},i.a.createElement(\"label\",null,\"Name:\",i.a.createElement(\"input\",{type:\"text\",onChange:e.updateSessionName,value:e.sessionName,autoCorrect:\"false\",spellCheck:\"false\"})),i.a.createElement(\"label\",null,\"Notes:\",i.a.createElement(\"textarea\",{onChange:e.updateSessionNotes,value:e.sessionNotes,autoCorrect:\"false\",spellCheck:\"false\"})),e.dbError&&i.a.createElement(\"section\",{id:\"dbError\"},e.dbError),i.a.createElement(\"section\",{id:\"buttons\"},i.a.createElement(\"input\",{type:\"submit\",value:\"Save\",onClick:e.saveSession}),i.a.createElement(\"button\",{className:\"button\",onClick:e.toggleSaveSessionPanel},\"Back\"))))},g=(n(40),n(41),n(15)),k=n(13);var w=function(e){return i.a.createElement(\"div\",{className:\"Session\"},i.a.createElement(g.a,{icon:k.a,className:\"icon\",onClick:function(){e.updateMoves(e.session.moves),e.loadSessionFromArchive(e.session.movesHistory,e.session.moves)}}),i.a.createElement(g.a,{icon:k.b,className:\"icon danger\",onClick:function(){return e.deleteSession(e.session.title)}}),i.a.createElement(\"span\",{className:\"title\"},e.session.title),\" \",e.session.moves&&i.a.createElement(\"span\",{className:\"number-of-moves\"},\"[\",e.session.moves.length,\" moves]\"))},E=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(v.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){var e=this;return i.a.createElement(\"section\",{id:\"SessionsPanel\",className:this.props.visible?\"visible\":null},i.a.createElement(\"section\",{id:\"SessionsList\"},this.props.sessions.length>0&&this.props.sessions.map((function(t){return i.a.createElement(w,{key:t.id,session:t,updateMoves:e.props.updateMoves,loadSessionFromArchive:e.props.loadSessionFromArchive,toggleSessionsPanel:e.props.toggleSessionsPanel,deleteSession:e.props.deleteSession,confirm:e.props.confirm})})),0===this.props.sessions.length&&i.a.createElement(\"div\",{id:\"no-sessions\"},\"No stored sessions\")),i.a.createElement(\"section\",{id:\"Buttons\"},i.a.createElement(\"button\",{className:\"button\",onClick:this.props.toggleSessionsPanel},\"Back\")))}}]),t}(i.a.Component);n(46),n(47);var N=function(e){return i.a.createElement(\"div\",{className:\"Move \".concat(e.selected?\"selected\":null,\" \").concat(e.faded?\"faded\":null),onClick:function(){e.selectMove(e.id)}},i.a.createElement(\"div\",{className:\"TurnId\"},\"#\",e.id),\" \",i.a.createElement(\"div\",{className:\"Side \".concat(e.side)}),\" \",e.notation)},M=(n(48),n(25)),O=n.n(M),j=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={selectedMove:-1},n.selectMove=n.selectMove.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:\"selectMove\",value:function(e){var t=this;this.state.selectedMove!==e?this.setState({selectedMove:e},(function(){t.props.moves.length>1&&(t.props.fadeOutMoves(t.state.selectedMove),t.props.updateSituationByMoveId(e))})):this.setState({selectedMove:e},(function(){t.props.resetMovesFade(),t.props.updateSituationByMoveId(e)}))}},{key:\"cycleMoves\",value:function(e){this.props.moves.length>1&&-1!==this.state.selectedMove&&(\"up\"===e?this.state.selectedMove<this.props.moves.length&&this.selectMove(this.state.selectedMove+1):\"down\"===e&&this.state.selectedMove>1&&this.selectMove(this.state.selectedMove-1))}},{key:\"getMoveById\",value:function(e){var t=!0,n=!1,s=void 0;try{for(var i,a=this.props.moves[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.id===e)return o}}catch(r){n=!0,s=r}finally{try{t||null==a.return||a.return()}finally{if(n)throw s}}}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"section\",{id:\"MovesHistory\"},i.a.createElement(O.a,{handleKeys:[\"up\",\"down\"],onKeyEvent:function(t){return e.cycleMoves(t)}}),this.props.moves.map((function(t){return i.a.createElement(N,{key:t.id,notation:t.notation,id:t.id,side:t.side,situation:t.situation,faded:t.faded,selectMove:e.selectMove,selected:e.state.selectedMove===t.id})})))}}]),t}(i.a.Component),P=n(26),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"chess-moves-parser\";Object(r.a)(this,e),this.db=new P.a(t,{auto_compaction:!0})}return Object(c.a)(e,[{key:\"configure\",value:function(e,t){this.db.changes({live:!0,since:\"now\"}).on(\"change\",(function(t){e()})).on(\"error\",(function(e){t()}))}},{key:\"insert\",value:function(e,t,n){this.db.put(e).then((function(e){t(e)})).catch((function(e){n&&n(e)}))}},{key:\"getAll\",value:function(e,t,n){this.db.allDocs(e).then((function(e){t(e)})).catch((function(e){n&&n(e)}))}},{key:\"delete\",value:function(e,t,n){var s=this;this.db.get(e).then((function(e){return s.db.remove(e)})).then((function(e){t(e)})).catch((function(e){n&&n(e)}))}}]),e}();function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).notationParams={notationMinLength:5,notationMaxLength:5},n.db=null,n.state={moves:[],notations:\"\",notaitionsError:\"\",dbError:\"\",panels:{sessionsPanel:{visible:!1},saveSessionPanel:{visible:!1}},sessions:[],sessionName:\"\",sessionNotes:\"\",confirm:!0},n.updateNotations=n.updateNotations.bind(Object(d.a)(n)),n.parseNotationsList=n.parseNotationsList.bind(Object(d.a)(n)),n.toggleSessionsPanel=n.toggleSessionsPanel.bind(Object(d.a)(n)),n.toggleSaveSessionPanel=n.toggleSaveSessionPanel.bind(Object(d.a)(n)),n.updateSessionName=n.updateSessionName.bind(Object(d.a)(n)),n.updateSessionNotes=n.updateSessionNotes.bind(Object(d.a)(n)),n.fadeOutMoves=n.fadeOutMoves.bind(Object(d.a)(n)),n.resetMovesFade=n.resetMovesFade.bind(Object(d.a)(n)),n.saveSession=n.saveSession.bind(Object(d.a)(n)),n.updateMoves=n.updateMoves.bind(Object(d.a)(n)),n.deleteSession=n.deleteSession.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){this.props.testRun||(this.db=new C,this.db.configure((function(){console.log(\"DB_EVENT::There was a change in the local database. Something was inserted, removed or updated.\")}),(function(){console.log(\"DB_EVENT::There was an error during a database operation.\")})),this.updateSessionsList())}},{key:\"updateNotations\",value:function(e){this.setState({notaitionsError:\"\"}),this.setState({notations:e.target.value})}},{key:\"validateNotation\",value:function(e){var t=this.notationParams.notationMinLength,n=this.notationParams.notationMaxLength;return e.length>=t&&e.length<=n&&e.match(/^[A-Z-a-z]{1}[A-Z-a-z]{1}\\d{1}[A-Za-z]{1}\\d{1}/i)}},{key:\"generateId\",value:function(e){return 0===e.length?1:e[0].id+1}},{key:\"capitalize\",value:function(e){var t=e.split(\"\"),n=[];return t.forEach((function(e,t){0===t?n.push(e.toUpperCase()):n.push(e.toLowerCase())})),n.join(\"\")}},{key:\"disectNotation\",value:function(e){var t=e.split(\"\");return{piece:t[0].toUpperCase(),from:(t[1]+t[2]).toUpperCase(),to:(t[3]+t[4]).toUpperCase()}}},{key:\"parseNotationsList\",value:function(e){var t=this;if(e.preventDefault(),this.state.notations.length>0){var n=this.state.notations.trim().split(/\\n/),s=!0,i=!0,a=!1,o=void 0;try{for(var r,c=n[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){var l=r.value;if(!this.validateNotation(l.replace(/\\s*/g,\"\"))){s=!1,this.setState({notaitionsError:\"Invalid notation: '\".concat(l,\"'\")});break}}}catch(k){a=!0,o=k}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}if(s){var u=[],d=!0,v=!1,h=void 0;try{for(var p,f=n[Symbol.iterator]();!(d=(p=f.next()).done);d=!0){var m=p.value,b=this.capitalize(m.replace(/\\s*/g,\"\")),S=this.generateId(u),y=this.disectNotation(m),g={id:S,notation:b,piece:y.piece,from:y.from,to:y.to,side:S%2===0?\"Blacks\":\"Whites\",faded:!1};u.unshift(g)}}catch(k){v=!0,h=k}finally{try{d||null==f.return||f.return()}finally{if(v)throw h}}this.props.recordMoves(u),this.setState({moves:u},(function(){return t.setState({notationsList:\"\"})}))}}else this.setState({notaitionsError:\"Nothing to parse.\"})}},{key:\"fadeOutMoves\",value:function(e){this.setState((function(t){return t.moves.forEach((function(t){t.id>e?t.faded=!0:t.faded=!1})),{moves:t.moves}}))}},{key:\"resetMovesFade\",value:function(){this.setState((function(e){return e.moves.forEach((function(e){return e.faded=!1})),{moves:e.moves}}))}},{key:\"toggleSaveSessionPanel\",value:function(e){e.preventDefault(),this.setState((function(e){return{panels:F({},e.panels,{saveSessionPanel:{visible:!e.panels.saveSessionPanel.visible}}),dbError:\"\"}}))}},{key:\"toggleSessionsPanel\",value:function(){this.setState((function(e){return{panels:F({},e.panels,{sessionsPanel:{visible:!e.panels.sessionsPanel.visible}})}}))}},{key:\"updateSessionName\",value:function(e){this.setState({sessionName:e.target.value})}},{key:\"updateSessionNotes\",value:function(e){this.setState({sessionNotes:e.target.value})}},{key:\"getLatestSessionId\",value:function(){var e=0;return this.state.sessions.forEach((function(t){t.id>e&&(e=t.id)})),e}},{key:\"saveSession\",value:function(e){var t=this;e.preventDefault(),this.state.sessionName.trim()?this.db.insert({id:this.getLatestSessionId()+1,_id:this.state.sessionName,notes:this.state.sessionNotes,moves_count:this.state.moves.length,moves:this.state.moves,moves_history:this.props.movesHistory,date_saved:Date()},(function(){t.setState({sessionName:\"\",sessionNotes:\"\"},(function(){return t.toggleSaveSessionPanel()})),t.updateSessionsList()}),(function(e){\"Document update conflict\"===e.message&&409===e.status&&t.setState({dbError:\"Session '\".concat(t.state.sessionName,\"' already exists, choose another name.\")})})):this.setState({dbError:\"Please, give your session a name first.\"})}},{key:\"updateSessionsList\",value:function(){var e=this;function t(e){var t=[];return e.rows.forEach((function(e){t.push({id:e.doc.id,title:e.doc._id,movesHistory:e.doc.moves_history,moves:e.doc.moves})})),t}this.db.getAll({include_docs:!0},(function(n){e.setState({sessions:t(n)})}))}},{key:\"updateMoves\",value:function(e){this.setState({moves:e,panels:{sessionsPanel:{visible:!1}}})}},{key:\"deleteSession\",value:function(e){var t=this;this.db.delete(e,(function(){t.updateSessionsList()}))}},{key:\"render\",value:function(){return i.a.createElement(\"aside\",{id:\"Panel\"},i.a.createElement(b,{notations:this.state.notations,updateNotations:this.updateNotations,parseNotationsList:this.parseNotationsList}),this.state.notaitionsError&&i.a.createElement(\"div\",{id:\"Error\"},this.state.notaitionsError),0!==this.state.moves.length&&i.a.createElement(\"h3\",null,\"Session History\"),i.a.createElement(j,{moves:this.state.moves,side:this.props.side,updateSituationByMoveId:this.props.updateSituationByMoveId,fadeOutMoves:this.fadeOutMoves,resetMovesFade:this.resetMovesFade}),i.a.createElement(S,{toggleSessionsPanel:this.toggleSessionsPanel,toggleSaveSessionPanel:this.toggleSaveSessionPanel,moves:this.state.moves}),i.a.createElement(y,{visible:this.state.panels.saveSessionPanel.visible,toggleSaveSessionPanel:this.toggleSaveSessionPanel,sessionName:this.state.sessionName,sessionNotes:this.state.sessionNotes,updateSessionName:this.updateSessionName,updateSessionNotes:this.updateSessionNotes,saveSession:this.saveSession,dbError:this.state.dbError}),i.a.createElement(E,{visible:this.state.panels.sessionsPanel.visible,sessions:this.state.sessions,toggleSessionsPanel:this.toggleSessionsPanel,loadSessionFromArchive:this.props.loadSessionFromArchive,updateMoves:this.updateMoves,deleteSession:this.deleteSession,confirm:this.state.confirm}))}}]),t}(i.a.Component),H=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).board={vCoordinates:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\"],hCoordinates:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"],turnMap:{Whites:\"white-\",Blacks:\"black-\"},piecesMap:{R:\"rook\",N:\"knight\",B:\"bishop\",K:\"king\",Q:\"queen\",P:\"pawn\"}},n.state={turn:\"Whites\",initialSet:{whitesOnTop:{A1:\"white-rook\",B1:\"white-knight\",C1:\"white-bishop\",D1:\"white-queen\",E1:\"white-king\",F1:\"white-bishop\",G1:\"white-knight\",H1:\"white-rook\",A2:\"white-pawn\",B2:\"white-pawn\",C2:\"white-pawn\",D2:\"white-pawn\",E2:\"white-pawn\",F2:\"white-pawn\",G2:\"white-pawn\",H2:\"white-pawn\",A7:\"black-pawn\",B7:\"black-pawn\",C7:\"black-pawn\",D7:\"black-pawn\",E7:\"black-pawn\",F7:\"black-pawn\",G7:\"black-pawn\",H7:\"black-pawn\",A8:\"black-rook\",B8:\"black-knight\",C8:\"black-bishop\",D8:\"black-king\",E8:\"black-queen\",F8:\"black-bishop\",G8:\"black-knight\",H8:\"black-rook\"},blacksOnTop:{A1:\"black-rook\",B1:\"black-knight\",C1:\"black-bishop\",D1:\"black-queen\",E1:\"black-king\",F1:\"black-bishop\",G1:\"black-knight\",H1:\"black-rook\",A2:\"black-pawn\",B2:\"black-pawn\",C2:\"black-pawn\",D2:\"black-pawn\",E2:\"black-pawn\",F2:\"black-pawn\",G2:\"black-pawn\",H2:\"black-pawn\",A7:\"white-pawn\",B7:\"white-pawn\",C7:\"white-pawn\",D7:\"white-pawn\",E7:\"white-pawn\",F7:\"white-pawn\",G7:\"white-pawn\",H7:\"white-pawn\",A8:\"white-rook\",B8:\"white-knight\",C8:\"white-bishop\",D8:\"white-king\",E8:\"white-queen\",F8:\"white-bishop\",G8:\"white-knight\",H8:\"white-rook\"}},situation:[],movesHistory:[],initialSetType:\"blacksOnTop\"},n.recordMoves=n.recordMoves.bind(Object(d.a)(n)),n.updateSituation=n.updateSituation.bind(Object(d.a)(n)),n.findRankNumber=n.findRankNumber.bind(Object(d.a)(n)),n.findFileNumber=n.findFileNumber.bind(Object(d.a)(n)),n.updateSituationByMoveId=n.updateSituationByMoveId.bind(Object(d.a)(n)),n.loadSessionFromArchive=n.loadSessionFromArchive.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:\"findSquare\",value:function(e,t){var n=!0,s=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var r=a.value,c=!0,l=!1,u=void 0;try{for(var d,v=r[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var h=d.value;if(h.coordinates===t)return h}}catch(p){l=!0,u=p}finally{try{c||null==v.return||v.return()}finally{if(l)throw u}}}}catch(p){s=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}}},{key:\"findRankNumber\",value:function(e){for(var t=0;t<this.state.situation.length;t++)for(var n=this.state.situation[t],s=0;s<n;s++){if(n[s].coordinates===e)return t}}},{key:\"findFileNumber\",value:function(e){for(var t=0;t<this.state.situation.length;t++)for(var n=this.state.situation[t],s=0;s<n;s++){if(n[s].coordinates===e)return s}}},{key:\"copySituation\",value:function(e){var t=[],n=!0,s=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var r=a.value,c=[],l=!0,u=!1,d=void 0;try{for(var v,h=r[Symbol.iterator]();!(l=(v=h.next()).done);l=!0){var p=v.value,f={};for(var m in p)f[m]=p[m];c.push(f)}}catch(b){u=!0,d=b}finally{try{l||null==h.return||h.return()}finally{if(u)throw d}}t.push(c)}}catch(b){s=!0,i=b}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}return t}},{key:\"copyMovesHistory\",value:function(e){var t=[];if(e.length>0){var n=!0,s=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var r=a.value,c={};for(var l in r)c[l]=r[l];t.push(c)}}catch(u){s=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}}return t}},{key:\"recordMoves\",value:function(e){var t=0,n=this,s=e.slice().reverse();!function i(a){n.setState((function(e){var t=n.copySituation(e.situation);n.findSquare(t,a.from).piece=null;var s=\"\".concat(n.board.turnMap[a.side]).concat(n.board.piecesMap[a.piece]);n.findSquare(t,a.to).piece=s;var i=n.copyMovesHistory(e.movesHistory);return i.push({id:\"\".concat(a.id),situation:t}),{situation:t,movesHistory:i}}),(function(){++t<e.length&&i(s[t])}))}(s[t])}},{key:\"findSituation\",value:function(e){var t=!0,n=!1,s=void 0;try{for(var i,a=this.state.movesHistory[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.id===e.toString())return o.situation}}catch(r){n=!0,s=r}finally{try{t||null==a.return||a.return()}finally{if(n)throw s}}}},{key:\"updateSituation\",value:function(e){this.setState({situation:e})}},{key:\"updateSituationByMoveId\",value:function(e){this.updateSituation(this.findSituation(e))}},{key:\"loadSessionFromArchive\",value:function(e,t){var n=this;this.setState({movesHistory:e},(function(){return n.updateSituationByMoveId(t[0].id)}))}},{key:\"render\",value:function(){return i.a.createElement(\"div\",{id:\"App\"},i.a.createElement(f,{board:this.board,initialSet:this.state.initialSet,initialSetType:this.state.initialSetType,situation:this.state.situation,updateSituation:this.updateSituation}),i.a.createElement(A,{side:this.state.turn,recordMoves:this.recordMoves,situation:this.state.situation,movesHistory:this.state.movesHistory,updateSituationByMoveId:this.updateSituationByMoveId,loadSessionFromArchive:this.loadSessionFromArchive,testRun:!1}))}}]),t}(i.a.Component),D=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(i.a.createElement(H,null),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");D?(!function(e,t){fetch(e).then((function(n){var s=n.headers.get(\"content-type\");404===n.status||null!=s&&-1===s.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):L(t,e)}))}}()}},[[27,1,2]]]);","extractedComments":[]}